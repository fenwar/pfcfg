#!/bin/bash

# Quickly mount my Pennant CIFS shares below ~/mnt/sharename

# Usage: sudo mn //server/sharename

if [[ -z ${PENCOM_PSWD} ]] ; then
    read -s -p "Password for PENCOM\\paulf: " PENCOM_PSWD
    echo
fi

LOCALBASE=${HOME}/mnt

SHAREUSER=paulf
LOCALUSER=${USER}

SHARENAME=${1}
LOCALPATH=${LOCALBASE}/$(basename ${SHARENAME})

mkdir -p ${LOCALPATH}
sudo mount -t cifs \
    -ousername=${SHAREUSER},uid=${LOCALUSER},password=${PENCOM_PSWD} \
    ${SHARENAME} ${LOCALPATH}

